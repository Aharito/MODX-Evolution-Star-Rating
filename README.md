# Звездный рейтинг для MODX Evolution
## Star Rating for MODX Evolution

### Установка

Создать новый сниппет star_rating (название сниппета не имеет значения), со следующим содержимым:

```php
<?php
return require MODX_BASE_PATH . 'assets/snippets/star_rating/snippet.php';
?>
```

Создать новый модуль Star Rating, со следующим содержимым:

```php
include MODX_BASE_PATH . 'assets/snippets/star_rating/starrating.module.php';
```

После создания модуля необходимо обновить страницу чтобы ссылка на модуль появилась на вкладке `"Модули"`.
 Далее если вы ранее не устанавливали этот компонент необходимо нажать кнопку `"Установить"`

### Использование

Пример вызов сниппета:
```
[!star_rating? $id=`[*id*]` &tpl=`@CHUNK:star_rating`!]
```

#### Параметры сниппета
| Параметр      | По умолчанию  | Описание      |
| ------------- | :-----------: | ------------- |
| **id**        | `[*id*]`      | ID документа. Если не указать будет использован ID текущего документа  |
| **tpl**       | `template`    | Шаблон для вывода рейтинга. Для использования чанков MODX следует у имени чанка добавить приставку `@CHUNK:` как на примере |
| **lang**      | `ru`          | Язык. Все языки находятся в папке `/assets/snippets/star_rating/langs/` |
| **interval**  | `86400`       | Интервал в секундах по итечении которого можно будет оставить голос |
| **width**     | `16`          | Ширина изображения (звезды) в пикселях |
| **noJs**      | -             | Если указать `1` встроенные скрипты не будут выводиться на страницу |
| **noCss**     | -             | Если указать `1` встроенные стили не будут выводиться на страницу |

Основной скрипт для работы сниппета находится по этому пути `assets/snippets/star_rating/assets/js/script.js`. Можно отключить добавив к вызову сниппета ``$noJs=`1` ``.
Файл со стилям `assets/snippets/star_rating/assets/css/style.css`. Можно отключить добавив к вызову сниппета ``$noCss=`1` ``. 
Дефолтный шаблон оформления рейтинга `assets/snippets/star_rating/chunks/template.chunk.tpl`. Можете скопировать его содержимое и создать чанк, но тогда вам придется в каждом вызове сниппета явно указывать его ``&tpl=`@CHUNK:my_template` ``.

 Со сниппетом идет jQuery необходимый для корректной работы. Но подключается он в случае, если не используется другая версия jQuery на странице с вызовом сниппета. Его также можно принудительно отключить используюя параметр ``&noJs=`1` ``, но основной скрипт так же будет отключен.
